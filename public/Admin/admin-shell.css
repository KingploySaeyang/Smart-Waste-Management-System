:root{
  --bg:#f3f6fb;
  --surface:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --primary:#10b981;
  --primary-dark:#047857;
  --accent:#0ea5e9;
  --primary-soft: rgba(16,185,129,.12);
  --accent-soft: rgba(14,165,233,.12);
  --border:#e6ebf3;
  --shadow: 0 10px 24px rgba(17,24,39,.08);
  --header-h:72px;
  --sidebar-w:260px;
  --side-pad-x:6px;
}

*{ box-sizing:border-box; font-family:"Prompt",sans-serif; }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  display:block !important;
}

.top-header{
  position:fixed; top:0; left:0; right:0;
  height:var(--header-h);
  background:var(--surface);
  border-bottom:1px solid var(--border);
  box-shadow: 0 6px 18px rgba(17,24,39,.08);
  z-index:1200;
  display:flex; align-items:center; justify-content:space-between;
  padding: 0 18px;
  gap:12px;
}
.brand-left{ display:flex; align-items:center; gap:10px; min-width: 220px; }
.brand-mark{
  width:40px; height:40px;
  border-radius:14px;
  background: linear-gradient(135deg, rgba(16,185,129,.18), rgba(14,165,233,.18));
  border: 1px solid rgba(16,185,129,.22);
  display:grid; place-items:center;
  color: var(--primary-dark);
  font-size:20px; font-weight:900;
}
.brand-name{
  font-size:22px;
  font-weight:900;
  letter-spacing:-0.2px;
  white-space:nowrap;
  background: linear-gradient(135deg, #10b981 0%, #0ea5e9 100%);
  -webkit-background-clip:text;
  background-clip:text;
  -webkit-text-fill-color: transparent;
  display:block;
}
.header-right{ display:flex; align-items:center; gap:10px; }

.icon-btn{
  width:58px; height:58px;
  min-height:58px;
  border-radius:18px;
  border:1px solid var(--border);
  background:#fff;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  box-shadow: 0 10px 22px rgba(17,24,39,.06);
  transition: transform .2s, border-color .2s, box-shadow .2s;
}
.icon-btn:active{ transform: scale(0.96); }
.icon-btn:hover{
  border-color: rgba(0,0,0,.22);
  box-shadow: 0 14px 28px rgba(17,24,39,.09);
}
.icon-btn i{
  font-size:28px;
  color:#000;
  opacity: 1;
}

.lang-switcher .icon-btn{
  width:44px;
  height:44px;
  min-height:44px;
  border-radius:50%;
  border:1px solid rgba(15,23,42,0.08);
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(6px);
  box-shadow: 0 6px 18px rgba(15,23,42,0.12);
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.lang-switcher .icon-btn:hover{
  transform: translateY(-2px);
  box-shadow: 0 10px 22px rgba(15,23,42,0.16);
}
.lang-switcher .icon-btn:active{ transform: scale(0.96); }
.lang-switcher .icon-btn i{ font-size:22px; color:#0f172a; }

.lang-menu{
  position:absolute;
  right:0;
  top:54px;
  background:#fff;
  border:1px solid rgba(226,232,240,0.9);
  border-radius:18px;
  box-shadow: 0 14px 30px rgba(15,23,42,0.18);
  display:none;
  flex-direction: column;
  gap: 6px;
  min-width:190px;
  z-index:1500;
  padding: 8px;
}
.lang-menu.show{ display:flex; }
.lang-menu button{
  width:100%;
  border:none;
  background:transparent;
  padding:10px 12px;
  text-align:left;
  cursor:pointer;
  font-weight:600;
  color: #0f172a;
  white-space: nowrap;
  border-radius: 12px;
  font-size: 15px;
}
.lang-menu button:hover{ background:#f1f5f9; }
.lang-menu button.active{ background:#e0f2fe; color: var(--accent, #0ea5e9); font-weight:700; }

.header-user{
  display:flex;
  align-items:center;
  gap:10px;
  padding: 10px 14px;
  border-radius: 18px;
  border:1px solid var(--border);
  background:#fff;
  color:var(--text);
  height:52px;
  min-height:52px;
  user-select:none;
  box-shadow: 0 10px 22px rgba(17,24,39,.06);
}
.user-avatar{
  width:36px; height:36px;
  border-radius:14px;
  border:1px solid var(--border);
  object-fit:cover;
  background:#f8fafc;
}
.user-meta{ line-height:1.1; }
.user-name{ font-weight:900; font-size:13px; }
.user-role{ font-weight:800; font-size:12px; color:var(--muted); }

.menu-toggle{
  display:none;
  width:48px; height:48px;
  border-radius:16px;
  border:1px solid var(--border);
  background:#fff;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  box-shadow: 0 10px 22px rgba(17,24,39,.06);
  transition: transform .2s;
}
.menu-toggle:active{ transform: scale(.96); }
.menu-toggle i{ font-size:22px; color: #000; }

.sidebar{
  position:fixed;
  top:var(--header-h);
  left:0;
  width:var(--sidebar-w);
  height: calc(100vh - var(--header-h));
  background: var(--surface);
  color: var(--text);
  border-right:1px solid var(--border);
  padding: 14px 14px 16px;
  display:flex;
  flex-direction:column;
  z-index:1100;
}
.sidebar-user{
  display:none;
  gap:10px;
  align-items:center;
  padding: 12px 12px;
  margin: 4px var(--side-pad-x) 10px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: #fff;
  box-shadow: 0 10px 22px rgba(17,24,39,.06);
}
.sidebar-user .user-avatar{ width:42px; height:42px; border-radius:16px; }
.sidebar-user .user-name{ font-size:14px; color: var(--text); }
.sidebar-user .user-role{ font-size:12px; }

.menu{
  display:flex;
  flex-direction:column;
  gap:10px;
  padding: 10px var(--side-pad-x);
  margin:0;
  flex:1;
  overflow:auto;
}
.menu a{
  display:flex;
  align-items:center;
  gap:12px;
  padding: 14px 14px;
  border-radius: 14px;
  text-decoration:none;
  color:#111827;
  font-weight:900;
  font-size:16px;
  transition: all .16s ease;
  border:1px solid transparent;
  background: transparent;
}
.menu a i{
  font-size:20px;
  width:22px;
  text-align:center;
  color:#6b7280;
  flex-shrink:0;
}
.menu a .menu-text{
  flex:1;
  display:inline-block;
}
.menu a:hover{ background:#f4f7ff; border-color:#e8efff; }
.menu a.active{
  background: #10b981;
  color:#fff;
  box-shadow: 0 10px 20px rgba(16,185,129,.18);
  border:1px solid rgba(16,185,129,.26);
}
.menu a.active i{ color:#fff; }

.sw-logout-slot{ padding: 0 var(--side-pad-x) 6px; }
.sw-logout-slot, .sw-logout-slot *{ max-width: none !important; inline-size: auto !important; }
.sw-logout-slot > *{ display:block !important; width:100% !important; }
.sw-logout-slot button,
.sw-logout-slot a,
.sw-logout-slot .sw-logout-btn{
  width:auto !important;
  min-width:220px !important;
  max-width:245px !important;
  display:flex !important;
  align-items:center !important;
  justify-content:center !important;
  min-height:44px !important; /* เตี้ยลงเล็กน้อย */
  border-radius: 12px !important;
  box-sizing: border-box !important;
  margin: 0 auto !important; /* จัดกลาง */
  padding: 12px 18px !important; /* ลด padding เพื่อให้เล็กลง */
  gap: 10px;
  font-weight: 900 !important;
  font-size: 15px !important;
  text-align: center !important;
}
.sw-logout-btn{
  background:#dc2626 !important;
  color:#fff !important;
  border:1px solid rgba(220,38,38,.18) !important;
  box-shadow: 0 10px 18px rgba(220,38,38,.16) !important;
}

/* Ensure SweetAlert covers header/sidebar */
.swal2-container{
  z-index: 2000 !important;
}

/* Content loader (keeps header/menu visible) */
.shell-loader{
  position: fixed;
  top: calc(var(--header-h) + 8px);
  left: var(--sidebar-w);
  right: 0;
  bottom: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(243,246,251,.65);
  backdrop-filter: blur(6px);
  z-index: 1080;
}
.shell-loader.show{ display:flex; }
.shell-loader .loader-box{
  background: #fff;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  padding: 18px 22px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  font-weight: 800;
  color: #0f172a;
  min-width: 160px;
  text-align: center;
  border-radius: 16px;
}
.shell-loader .loader-spinner{
  position: relative;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: conic-gradient(#0ea5e9 0deg, #0ea5e9 120deg, #10b981 240deg, rgba(14,165,233,.1) 320deg, rgba(14,165,233,.08) 360deg);
  mask: radial-gradient(farthest-side, transparent calc(50% - 7px), #000 calc(50% - 6px));
  animation: loaderSpin 1s linear infinite;
  box-shadow: 0 12px 26px rgba(14,165,233,.16);
}
.shell-loader .loader-spinner::after{
  content:"";
  position:absolute;
  inset:16px;
  border-radius:50%;
  background:#fff;
  box-shadow: inset 0 0 0 2px rgba(14,165,233,.08);
}
@keyframes loaderSpin{
  100%{ transform: rotate(360deg); }
}
.shell-loader .loader-text{
  display:flex;
  flex-direction:row;
  align-items:center;
  justify-content:center;
  gap:4px;
  line-height:1.2;
  color:#0f172a;
  font-weight: 800;
}

/* Admin card base: match report style */
.card{
  background:#fff !important;
  border:1px solid var(--border) !important;
  border-radius:18px !important;
  box-shadow: 0 10px 22px rgba(17,24,39,.06) !important;
}

.admin-main{
  padding-top: calc(var(--header-h) + 26px);
  margin-left: var(--sidebar-w);
  width: calc(100% - var(--sidebar-w));
  padding-left: 28px;
  padding-right: 28px;
  padding-bottom: 30px;
  min-height: 100vh;
}
#adminShellContent > *{ width:100%; }
#adminShellContent > main{ margin:0; padding:0; width:100%; }

.drawer-overlay{
  position: fixed;
  left:0; right:0;
  top: var(--header-h);
  height: calc(100vh - var(--header-h));
  background: rgba(15,23,42,.35);
  backdrop-filter: blur(2px);
  z-index: 1050;
  display: none;
}
.drawer-overlay.show{ display:block; }

@media (max-width: 980px){
  .menu-toggle{ display:inline-flex; }
  #profileBoxTop{ display:none; }

  .admin-main{
    margin-left:0;
    width:100%;
    padding-left: 16px;
    padding-right: 16px;
    padding-bottom: 28px;
  }

  .sidebar{
    top: var(--header-h);
    height: calc(100vh - var(--header-h));
    transform: translateX(-105%);
    transition: transform .25s ease;
    z-index: 1100;
    box-shadow: 0 18px 50px rgba(0,0,0,.18);
    border-right: 1px solid rgba(230,235,243,.95);
  }
  .sidebar.show{ transform: translateX(0); }
  .sidebar-user{ display:flex; }

  .brand-mark{ display:none; }
  .brand-name{
    display:block !important;
    font-size:18px;
    font-weight:900;
    letter-spacing:-0.2px;
    white-space:nowrap;
  }

  .shell-loader{
    left:0;
    top: calc(var(--header-h) + 4px);
  }
}

@media (max-width: 380px){
  .brand-name{ font-size:16px; }
}
